# proof of work
工作量证明的方式缺点很明显，就是十分的耗电，一年的耗电量可比一个国家。
PoW模式同时也容易收到外界货币的攻击，想要攻击一个PoW货币，只需要通过外界货币购买足够量的矿机，凑足51%算力来发动攻击。

# 挖矿的本质
矿工投入成本购买矿机，矿机越多算力越大，算力越大挖出来的区块越多，获得的出块奖励越多。因此，矿工挖矿的本质是通过比拼钱的多少来争取收益的多少。
有没有可能，去掉中间挖矿费电费时的过程，直接通过比拼钱的多少————将资金投入币的开发中，来决定收益的分配。

# 权益证明
权益证明也称为virtual mining。采用这种方式的货币在发行之前，要给开发者奖励一定额的货币，并且在开发过程中，通过给投资者预留一定额的货币换取资金来投入开发。将来通过货币的多少来投票决定记账权。
采用权益证明的货币，其内部是一个闭环，假如攻击者想要发动51攻击，就必须设法获得51%以上的该货币资源，区别于PoW模式，攻击者能够直接从其他货币来获取算力进行攻击。
所以说工作量证明维护安全的资源不是一个闭环，权益证明则是一个闭环。

# 权益证明面临的挑战
## nothing at stake
通俗的讲就是由于矿工挖矿不需要任何成本，只需要根据自己持有的币值进行投票。在面临软分叉情况时，就选择投个多个节点。这样既不会损失，同时必然获得收益。
[问题解释](https://zhuanlan.zhihu.com/p/66534185)
# 权益证明协议
## Casper: the Friendly Finality Gadget(FFG)
在过渡阶段与工作量证明混合使用，为工作量证明提供Finality.
Finality是一种最终状态，包含在Finality中的交易不会被取消。
单纯保存在区块链上的交易是有可能被回滚的,比如发动51攻击，虽然比特币要求等到六个区块的确认，然而六个区块之后只是说被攻击的概率很小，实际上还是存在被攻击的可能性。
casper引入了一个概念validator，要想成为一个validator，需要向系统抵押一定的以太币，通过这一部分以太币获取相应大小的投票权重。
每50个epoch进行一次投票，区块需要获得三分之二以上的赞同票才能被确定为Finality。如果有验证者不作为，或者两边投票，那么该验证者的保证金将被没收(直接被销毁)。
如果所投区块通过，则验证者会获得一定的奖励。
验证者有一定的任期，每个任期结束有一段等待期。等待期期间其他人可以对该验证者检举揭发，如果没有人检举，则等待期过后将奖励和押金退给验证者。